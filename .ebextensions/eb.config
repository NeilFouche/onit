packages:
  yum:
    gcc: []
    mariadb105-devel: []
    pkgconf: []

files:
  "/var/log/django.log":
    mode: "0664"
    owner: webapp
    group: webapp
    content: "# Django log file initialized\n"

commands:
  01_create_pids_directory:
    command: "mkdir -p /var/pids"
  02_update_ownership:
    command: "sudo chown -R ec2-user:ec2-user /var/pids"
  03_set_log_permissions:
    command: "sudo chown webapp:webapp /var/log/django.log && chmod 0664 /var/log/django.log"
  04_chown_web_service:
    command: "sudo chown -R ec2-user:ec2-user /etc/systemd/system/web.service"
  05_chmod_web_service:
    command: "sudo chmod 644 /etc/systemd/system/web.service"
